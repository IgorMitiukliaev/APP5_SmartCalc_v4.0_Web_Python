{% extends 'root.html' %}
{% block content %}
<h1>Basic Calculator</h1>
{% load static %}
<script type="text/javascript" src={% static "js/jquery-3.7.1.min.js" %}></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.0/chart.umd.js"
    integrity="sha512-6HrPqAvK+lZElIZ4mZ64fyxIBTsaX5zAFZg2V/2WT+iKPrFzTzvx6QAsLW2OaLwobhMYBog/+bvmIEEGXi0p1w=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script type="text/javascript" src={% static "js/graph.js" %}></script>

<h2 id="expr">{{ expr }}</h2>
<a>{{data|safe}}</a>
<section class="chart">

    <form class="chart__data" action="" method="POST">
        {% csrf_token %}
        <fieldset>
        <div class="chart_label x_range">
            <label class="chart__label" for="domain_def">X range from: </label>
            <input class="chart__input input-field" type="number" name="x_min" id="x_min" required value="{{ x_min }}">
            <span>to: </span>
            <input class="chart__input input-field" type="number" name="x_max" id="x_max" required value="{{ x_max }}">
            <input type="hidden" id="expr" name="comm" value={{expr}}>
        </div> 
    </fieldset>
        <input class="btn btn-outline-secondary type" id="show-graph" type="submit" name="graph" value="Show graph">
    </form>

    <div style="display: none" id="jsonData" data_json="{{ data_json }}"></div>
    <canvas id="chart">Браузер не поддерживает canvas</canvas>
</section>

<style>
    .chart_label {
        padding: 10px 0px;
    }
</style>
{% endblock %}